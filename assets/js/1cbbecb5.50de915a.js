"use strict";(globalThis.webpackChunknighty_lib=globalThis.webpackChunknighty_lib||[]).push([[252],{3355(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"debug/memory","title":"Memory","description":"Attributes related to Nighty\'s memory.","source":"@site/docs/debug/memory.md","sourceDirName":"debug","slug":"/debug/memory","permalink":"/docs/debug/memory","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docs","previous":{"title":"Debug","permalink":"/docs/category/debug"},"next":{"title":"Window","permalink":"/docs/debug/window"}}');var i=t(4848),r=t(8453);const o={sidebar_position:1},a="Memory",d={},c=[{value:"memory",id:"memory-1",level:2},{value:"dump_memory",id:"dump_memory",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"memory",children:"Memory"})}),"\n",(0,i.jsx)(n.p,{children:"Attributes related to Nighty's memory."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Required background:"})," All custom Python scripts executed in Nighty run in the same context as Nighty\u2019s main script and share the same ",(0,i.jsx)(n.code,{children:"globals()"}),". Naturally, this means you can do a bit of spying."]}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:['"Attempting to reverse-engineer, decompile, or modify the software" goes against ',(0,i.jsx)(n.a,{href:"https://nighty.one/terms-of-service",children:"Nighty's ToS"}),".\n",(0,i.jsx)("br",{}),(0,i.jsx)(n.strong,{children:"Use at your own risk!"})," Never share scripts that use these attributes publicly."]})}),"\n",(0,i.jsx)(n.h2,{id:"memory-1",children:"memory"}),"\n",(0,i.jsx)("p",{style:{color:"gray",marginBottom:"1%"},children:"2.0.0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"nightylib.debug.memory: types.SimpleNamespace\n"})}),"\n",(0,i.jsx)(n.p,{children:"A powerful attribute that provides access to an active class instance from the main Nighty thread."}),"\n",(0,i.jsxs)(n.p,{children:["This is especially useful because calling a method like ",(0,i.jsx)(n.code,{children:"NotificationSender.sendToast(None, *args, **kwargs)"})," would fail if self is accessed. To prevent this, ",(0,i.jsx)(n.code,{children:"memory"})," stores a single active instance per class, indexed by the class name."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",metastring:'title="Example: show a toast notification"',children:'from nightylib.debug import memory\nmemory.NotificationSender.sendToast("Hello from NightyLib!", logo_url="https://nightylib.bjarnos.dev/img/NightyLib.png")\n'})}),"\n",(0,i.jsx)(n.h2,{id:"dump_memory",children:"dump_memory"}),"\n",(0,i.jsx)("p",{style:{color:"gray",marginBottom:"1%"},children:"2.0.0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"def nightylib.debug.dump_memory() -> str\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Dumps the entire memory as a formatted string, a much more clean alternative to ",(0,i.jsx)(n.code,{children:"globals()"}),"."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["This function does not actually use ",(0,i.jsx)(n.code,{children:"globals()"}),". It only captures classes and unbound functions, not any other types."]})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["All classes marked with an asterisk (",(0,i.jsx)(n.code,{children:"*"}),") have an instantiated version that can be accessed via ",(0,i.jsx)(n.a,{href:"#memory-1",children:(0,i.jsx)(n.code,{children:"memory"})}),"!"]})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["You can also find a dump file ",(0,i.jsx)(n.a,{href:"https://github.com/Bjarnos/NightyLib/blob/main/dump.txt",children:"here"}),", this may be outdated though!"]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",metastring:'title="Example: copy a memory dump to clipboard"',children:"import pyperclip\nfrom nightylib.debug import dump_memory\npyperclip.copy(dump_memory())\n"})})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453(e,n,t){t.d(n,{R:()=>o,x:()=>a});var s=t(6540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);